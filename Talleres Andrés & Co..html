<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AutoTaller Pro - Sistema Minimalista</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background-color: #FFFFFF;
            color: #000000;
            line-height: 1.6;
        }

        header {
            background-color: #000000;
            color: white;
            padding: 0;
            position: sticky;
            top: 0;
            z-index: 1000;
            box-shadow: 0 1px 3px rgba(0,0,0,0.12);
        }

        .header-container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 0 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            height: 60px;
        }

        .logo {
            font-size: 18px;
            font-weight: 600;
            letter-spacing: -0.5px;
        }

        .border-all {
            border: 1px solid #000000;
        }

        .border-bottom {
            border-bottom: 1px solid #000000;
        }

        .nav-menu {
            display: flex;
            gap: 0;
            list-style: none;
            align-items: center;
        }

        .nav-item {
            padding: 8px 16px;
            border: none;
            background: transparent;
            color: white;
            cursor: pointer;
            font-size: 13px;
            font-weight: 500;
            transition: background-color 0.2s ease;
            border-bottom: 2px solid transparent;
            height: 60px;
            display: flex;
            align-items: center;
        }

        .nav-item:hover {
            background-color: #1a1a1a;
        }

        .nav-item.active {
            background-color: #1a1a1a;
            border-bottom-color: #ffffff;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 40px 20px;
        }

        .section {
            display: none;
        }

        .section.active {
            display: block;
            animation: fadeIn 0.3s ease;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        .section h1 {
            font-size: 28px;
            margin-bottom: 8px;
            font-weight: 600;
        }

        .section-desc {
            color: #666666;
            font-size: 14px;
            margin-bottom: 30px;
        }

        .grid-4 {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 20px;
            margin-bottom: 40px;
        }

        .stat-card {
            background: #FFFFFF;
            border: 1px solid #000000;
            padding: 24px;
            border-radius: 0;
            text-align: center;
            transition: all 0.2s ease;
        }

        .stat-card:hover {
            border-color: #000000;
            box-shadow: 0 2px 8px rgba(0,0,0,0.08);
        }

        .stat-card h3 {
            font-size: 11px;
            text-transform: uppercase;
            color: #999999;
            margin-bottom: 12px;
            letter-spacing: 0.5px;
            font-weight: 600;
        }

        .stat-card .number {
            font-size: 32px;
            font-weight: 700;
            color: #000000;
        }

        .stat-card .subtext {
            font-size: 12px;
            color: #999999;
            margin-top: 8px;
        }

        .grid-2 {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-bottom: 40px;
        }

        .card {
            background: #FFFFFF;
            border: 1px solid #000000;
            padding: 24px;
            border-radius: 0;
        }

        .card h3 {
            font-size: 16px;
            margin-bottom: 20px;
            font-weight: 600;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            font-size: 13px;
        }

        th {
            background: #FAFAFA;
            padding: 12px;
            text-align: left;
            font-weight: 600;
            border-bottom: 1px solid #EEEEEE;
            font-size: 12px;
            color: #666666;
            text-transform: uppercase;
            letter-spacing: 0.3px;
        }

        td {
            padding: 12px;
            border-bottom: 1px solid #EEEEEE;
        }

        tr:hover {
            background-color: #FAFAFA;
        }

        .badge {
            display: inline-block;
            padding: 4px 8px;
            border-radius: 0;
            font-size: 11px;
            font-weight: 600;
            border: 1px solid;
            text-transform: uppercase;
            letter-spacing: 0.3px;
        }

        .badge.success {
            border-color: #000000;
            color: #000000;
            background: #FFFFFF;
        }

        .badge.warning {
            border-color: #999999;
            color: #666666;
            background: #FFFFFF;
        }

        .badge.pending {
            border-color: #CCCCCC;
            color: #999999;
            background: #FFFFFF;
        }

        .quick-actions {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
            gap: 12px;
            margin-bottom: 30px;
        }

        .quick-btn {
            padding: 12px 16px;
            background: #000000;
            color: white;
            border: none;
            border-radius: 0;
            cursor: pointer;
            font-size: 13px;
            font-weight: 500;
            transition: all 0.2s ease;
        }

        .quick-btn:hover {
            background: #333333;
        }

        .form-group {
            margin-bottom: 20px;
        }

        label {
            display: block;
            margin-bottom: 6px;
            font-weight: 500;
            font-size: 13px;
        }

        input, textarea, select {
            width: 100%;
            padding: 10px 12px;
            border: 1px solid #000000;
            border-radius: 0;
            font-family: inherit;
            font-size: 13px;
            color: #000000;
            background: #FFFFFF;
        }

        input:focus, textarea:focus, select:focus {
            outline: none;
            border-color: #000000;
            box-shadow: none;
        }

        button {
            background-color: #000000;
            color: white;
            padding: 10px 20px;
            border: 1px solid #000000;
            border-radius: 0;
            cursor: pointer;
            font-size: 13px;
            font-weight: 500;
            transition: all 0.2s ease;
        }

        button:hover {
            background-color: #333333;
        }

        button.secondary {
            background-color: #FFFFFF;
            color: #000000;
            border: 1px solid #000000;
        }

        button.secondary:hover {
            background-color: #F5F5F5;
        }

        button.success {
            background-color: #2E7D32;
            color: white;
            border: 1px solid #2E7D32;
        }

        button.success:hover {
            background-color: #1B5E20;
        }

        button.danger {
            background-color: #D32F2F;
            color: white;
            border: 1px solid #D32F2F;
        }

        button.danger:hover {
            background-color: #B71C1C;
        }

        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.5);
            z-index: 2000;
            justify-content: center;
            align-items: center;
        }

        .modal.active {
            display: flex;
        }

        .modal-content {
            background: #FFFFFF;
            padding: 40px;
            max-width: 500px;
            width: 90%;
            max-height: 90vh;
            overflow-y: auto;
            border: 1px solid #000000;
        }

        .modal-header {
            margin-bottom: 25px;
            border-bottom: 1px solid #000000;
            padding-bottom: 20px;
        }

        .modal-header h2 {
            font-size: 20px;
            font-weight: 600;
        }

        .actions {
            display: flex;
            gap: 10px;
            margin-top: 25px;
        }

        .actions button {
            flex: 1;
        }

        .whatsapp-sim {
            background: #F5F5F5;
            border: 1px solid #000000;
            padding: 20px;
            margin: 20px 0;
            min-height: 300px;
            max-height: 400px;
            overflow-y: auto;
        }

        .message {
            margin-bottom: 12px;
            padding: 10px 12px;
            border-radius: 0;
            max-width: 70%;
            word-wrap: break-word;
            font-size: 13px;
        }

        .message.incoming {
            background: #EEEEEE;
            margin-right: auto;
            border: 1px solid #000000;
        }

        .message.outgoing {
            background: #000000;
            color: white;
            margin-left: auto;
            text-align: right;
        }

        .message-time {
            font-size: 11px;
            opacity: 0.7;
            margin-top: 4px;
        }

        .timeline {
            padding-left: 30px;
        }

        .timeline-item {
            margin-bottom: 20px;
            padding-left: 20px;
            border-left: 1px solid #000000;
            position: relative;
            font-size: 13px;
        }

        .timeline-item::before {
            content: '';
            position: absolute;
            left: -6px;
            top: 0;
            width: 10px;
            height: 10px;
            border-radius: 50%;
            background: #000000;
            border: 2px solid #FFFFFF;
        }

        .timeline-item.completed::before {
            background: #000000;
        }

        .timeline-item strong {
            display: block;
            margin-bottom: 4px;
        }

        .timeline-item-desc {
            color: #666666;
            font-size: 12px;
        }

        @media (max-width: 1024px) {
            .grid-4 {
                grid-template-columns: repeat(2, 1fr);
            }

            .grid-2 {
                grid-template-columns: 1fr;
            }
        }

        @media (max-width: 768px) {
            .nav-item {
                padding: 8px 12px;
                font-size: 12px;
            }

            .section h1 {
                font-size: 22px;
            }

            .grid-4 {
                grid-template-columns: 1fr;
            }

            .message {
                max-width: 100%;
            }

            table {
                font-size: 12px;
            }

            th, td {
                padding: 8px;
            }
        }

        .login-screen {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: #FFFFFF;
            z-index: 3000;
            justify-content: center;
            align-items: center;
        }

        .login-screen.active {
            display: flex;
        }

        .login-container {
            width: 100%;
            max-width: 400px;
            padding: 40px 20px;
            text-align: center;
        }

        .login-container h1 {
            font-size: 28px;
            font-weight: 600;
            margin-bottom: 8px;
            color: #000000;
        }

        .login-subtitle {
            color: #666666;
            font-size: 14px;
            margin-bottom: 40px;
        }

        .login-container form {
            margin-bottom: 20px;
        }

        .login-hint {
            font-size: 12px;
            color: #999999;
            margin-top: 20px;
            line-height: 1.6;
        }
    </style>
</head>
<body>
    <!-- PANTALLA DE LOGIN -->
    <div id="loginScreen" class="login-screen active">
        <div class="login-container">
            <h1>Talleres Andrés & Co.</h1>
            <p class="login-subtitle">Sistema de Gestión</p>
            
            <form onsubmit="autenticar(event)">
                <div class="form-group">
                    <label>Usuario</label>
                    <input type="email" id="loginUser" placeholder="ejemplosautomatizaciones@sms.com" required>
                </div>
                
                <div class="form-group">
                    <label>Contraseña</label>
                    <input type="password" id="loginPassword" placeholder="••••••••" required>
                </div>
                
                <button type="submit" class="success" style="width: 100%; margin-top: 20px;">Iniciar Sesión</button>
            </form>
            
            <p class="login-hint">Demo: ejemplosautomatizaciones@sms.com / DemostraciónDemo123</p>
        </div>
    </div>

    <header>
        <div class="header-container">
            <div class="logo">Talleres Andrés & Co.</div>
            <nav>
                <div class="nav-menu">
                    <button class="nav-item active" onclick="cambiarSeccion('dashboard')">Dashboard</button>
                    <button class="nav-item" onclick="cambiarSeccion('citas')">Citas</button>
                    <button class="nav-item" onclick="cambiarSeccion('ordenes')">Órdenes</button>
                    <button class="nav-item" onclick="cambiarSeccion('clientes')">Clientes</button>
                    <button class="nav-item" onclick="cambiarSeccion('repuestos')">Repuestos</button>
                    <button class="nav-item" onclick="cambiarSeccion('whatsapp')">WhatsApp</button>
                    <button class="nav-item" onclick="cambiarSeccion('empleados')">Empleados</button>
                    <button class="nav-item" onclick="cambiarSeccion('informes')">Informes</button>
                </div>
            </nav>
        </div>
    </header>

    <div class="container">
        <!-- DASHBOARD -->
        <div id="dashboard" class="section active">
            <h1>Dashboard</h1>
            <p class="section-desc">Vista general de tu taller</p>

            <div class="grid-4">
                <div class="stat-card">
                    <h3>Citas Hoy</h3>
                    <div class="number" id="citasHoy">0</div>
                    <div class="subtext">reservas</div>
                </div>
                <div class="stat-card">
                    <h3>Órdenes Activas</h3>
                    <div class="number" id="ordenesActivas">0</div>
                    <div class="subtext">en progreso</div>
                </div>
                <div class="stat-card">
                    <h3>Ingresos Hoy</h3>
                    <div class="number" id="ingresosHoy">0€</div>
                    <div class="subtext">completados</div>
                </div>
                <div class="stat-card">
                    <h3>Repuestos Críticos</h3>
                    <div class="number" id="repuestosCriticos">0</div>
                    <div class="subtext">stock bajo</div>
                </div>
            </div>

            <div class="grid-2">
                <div class="card">
                    <h3>Citas de Hoy</h3>
                    <table>
                        <thead>
                            <tr>
                                <th>Hora</th>
                                <th>Cliente</th>
                                <th>Vehículo</th>
                                <th>Estado</th>
                            </tr>
                        </thead>
                        <tbody id="citasHoyTabla">
                            <tr><td colspan="4" style="text-align: center; color: #999;">No hay citas</td></tr>
                        </tbody>
                    </table>
                </div>

                <div class="card">
                    <h3>Órdenes en Progreso</h3>
                    <table>
                        <thead>
                            <tr>
                                <th>ID</th>
                                <th>Vehículo</th>
                                <th>Servicio</th>
                                <th>Estado</th>
                            </tr>
                        </thead>
                        <tbody id="ordenesProgresoTabla">
                            <tr><td colspan="4" style="text-align: center; color: #999;">No hay órdenes</td></tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <div class="card">
                <h3>Repuestos con Stock Bajo</h3>
                <table>
                    <thead>
                        <tr>
                            <th>Repuesto</th>
                            <th>Stock</th>
                            <th>Mínimo</th>
                            <th>Precio</th>
                            <th>Estado</th>
                        </tr>
                    </thead>
                    <tbody id="repuestosAlertaTabla">
                        <tr><td colspan="5" style="text-align: center; color: #999;">Todo ok</td></tr>
                    </tbody>
                </table>
            </div>
        </div>

        <!-- CITAS -->
        <div id="citas" class="section">
            <h1>Citas y Reservas</h1>
            <p class="section-desc">Gestiona las reservas de clientes</p>

            <div class="quick-actions">
                <button class="quick-btn success" onclick="abrirModalCita()">+ Nueva Cita</button>
            </div>

            <div class="form-group">
                <label>Filtrar por fecha</label>
                <input type="date" id="filtroCitaFecha" onchange="actualizarTablaCitas()">
            </div>

            <div class="card">
                <table>
                    <thead>
                        <tr>
                            <th>Fecha</th>
                            <th>Hora</th>
                            <th>Cliente</th>
                            <th>Vehículo</th>
                            <th>Servicio</th>
                            <th>Estado</th>
                            <th>Acción</th>
                        </tr>
                    </thead>
                    <tbody id="tablaCitas">
                        <tr><td colspan="7" style="text-align: center; color: #999;">No hay citas</td></tr>
                    </tbody>
                </table>
            </div>
        </div>

        <!-- ÓRDENES -->
        <div id="ordenes" class="section">
            <h1>Órdenes de Trabajo</h1>
            <p class="section-desc">Registro y seguimiento de trabajos</p>

            <div class="quick-actions">
                <button class="quick-btn success" onclick="abrirModalOrden()">+ Nueva Orden</button>
            </div>

            <div class="card">
                <table>
                    <thead>
                        <tr>
                            <th>ID Orden</th>
                            <th>Fecha</th>
                            <th>Cliente</th>
                            <th>Vehículo</th>
                            <th>Descripción</th>
                            <th>Presupuesto</th>
                            <th>Estado</th>
                            <th>Acción</th>
                        </tr>
                    </thead>
                    <tbody id="tablaOrdenes">
                        <tr><td colspan="8" style="text-align: center; color: #999;">No hay órdenes</td></tr>
                    </tbody>
                </table>
            </div>
        </div>

        <!-- CLIENTES -->
        <div id="clientes" class="section">
            <h1>Gestión de Clientes</h1>
            <p class="section-desc">Base de datos de clientes y vehículos</p>

            <div class="quick-actions">
                <button class="quick-btn success" onclick="abrirModalCliente()">+ Nuevo Cliente</button>
            </div>

            <div class="form-group">
                <label>Buscar cliente o teléfono</label>
                <input type="text" id="buscarCliente" placeholder="Nombre o teléfono" onkeyup="actualizarTablaClientes()">
            </div>

            <div class="card">
                <table>
                    <thead>
                        <tr>
                            <th>Nombre</th>
                            <th>Teléfono</th>
                            <th>Email</th>
                            <th>Vehículos</th>
                            <th>Órdenes</th>
                            <th>Última Visita</th>
                            <th>Acción</th>
                        </tr>
                    </thead>
                    <tbody id="tablaClientes">
                        <tr><td colspan="7" style="text-align: center; color: #999;">No hay clientes</td></tr>
                    </tbody>
                </table>
            </div>
        </div>

        <!-- REPUESTOS -->
        <div id="repuestos" class="section">
            <h1>Gestión de Repuestos</h1>
            <p class="section-desc">Control de inventario</p>

            <div class="quick-actions">
                <button class="quick-btn success" onclick="abrirModalRepuesto()">+ Nuevo Repuesto</button>
            </div>

            <div class="card">
                <table>
                    <thead>
                        <tr>
                            <th>Código</th>
                            <th>Nombre</th>
                            <th>Stock</th>
                            <th>Mínimo</th>
                            <th>Precio</th>
                            <th>Valor Total</th>
                            <th>Estado</th>
                            <th>Acción</th>
                        </tr>
                    </thead>
                    <tbody id="tablaRepuestos">
                        <tr><td colspan="8" style="text-align: center; color: #999;">No hay repuestos</td></tr>
                    </tbody>
                </table>
            </div>
        </div>

        <!-- WHATSAPP -->
        <div id="whatsapp" class="section">
            <h1>WhatsApp Bot</h1>
            <p class="section-desc">Automatización de reservas por WhatsApp</p>

            <div class="card">
                <h3>Simulador de Chat</h3>
                <div class="whatsapp-sim" id="whatsappChat">
                </div>

                <div style="margin: 20px 0;">
                    <div class="form-group">
                        <label>Simula un mensaje</label>
                        <div style="display: flex; gap: 10px;">
                            <input type="text" id="mensajeSimulado" placeholder="Ej: Cambio de aceite mañana a las 10">
                            <button onclick="simularMensajeWhatsapp()">Enviar</button>
                        </div>
                    </div>
                </div>

                <div style="background: #F5F5F5; padding: 20px; border: 1px solid #EEEEEE; margin-top: 20px;">
                    <h4 style="margin-bottom: 15px;">Flujo Automático:</h4>
                    <div class="timeline">
                        <div class="timeline-item completed">
                            <strong>1. Recepción de mensaje</strong>
                            <div class="timeline-item-desc">El bot recibe el mensaje en WhatsApp</div>
                        </div>
                        <div class="timeline-item completed">
                            <strong>2. Análisis con IA</strong>
                            <div class="timeline-item-desc">Identifica servicio, fecha y hora</div>
                        </div>
                        <div class="timeline-item">
                            <strong>3. Búsqueda de disponibilidad</strong>
                            <div class="timeline-item-desc">Consulta calendario de citas</div>
                        </div>
                        <div class="timeline-item">
                            <strong>4. Confirmación</strong>
                            <div class="timeline-item-desc">Propone horarios y espera confirmación</div>
                        </div>
                        <div class="timeline-item">
                            <strong>5. Guardado automático</strong>
                            <div class="timeline-item-desc">Crea la cita sin intervención</div>
                        </div>
                        <div class="timeline-item">
                            <strong>6. Recordatorios</strong>
                            <div class="timeline-item-desc">Envía recordatorio 24h antes</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- EMPLEADOS -->
        <div id="empleados" class="section">
            <h1>Gestión de Empleados</h1>
            <p class="section-desc">Roles y desempeño</p>

            <div class="quick-actions">
                <button class="quick-btn success" onclick="abrirModalEmpleado()">+ Nuevo Empleado</button>
            </div>

            <div class="card">
                <table>
                    <thead>
                        <tr>
                            <th>Nombre</th>
                            <th>Teléfono</th>
                            <th>Especialidad</th>
                            <th>Rol</th>
                            <th>Trabajos Hoy</th>
                            <th>Desempeño</th>
                            <th>Acción</th>
                        </tr>
                    </thead>
                    <tbody id="tablaEmpleados">
                        <tr><td colspan="7" style="text-align: center; color: #999;">No hay empleados</td></tr>
                    </tbody>
                </table>
            </div>
        </div>

        <!-- INFORMES -->
        <div id="informes" class="section">
            <h1>Informes y Reportes</h1>
            <p class="section-desc">Análisis de negocio</p>

            <div class="grid-2">
                <div class="form-group">
                    <label>Desde</label>
                    <input type="date" id="informeDesdeFecha">
                </div>
                <div class="form-group">
                    <label>Hasta</label>
                    <input type="date" id="informeHastaFecha">
                </div>
            </div>

            <button class="success" onclick="generarInforme()">Generar Informe</button>

            <div id="contenidoInforme" style="margin-top: 30px;"></div>
        </div>
    </div>

    <!-- MODALES -->
    <div id="modalCita" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Nueva Cita</h2>
            </div>
            <div class="form-group">
                <label>Cliente</label>
                <select id="citaCliente" required>
                    <option value="">Selecciona cliente...</option>
                </select>
            </div>
            <div class="form-group">
                <label>Vehículo</label>
                <select id="citaVehiculo" required>
                    <option value="">Selecciona vehículo...</option>
                </select>
            </div>
            <div class="form-group">
                <label>Tipo de Servicio</label>
                <select id="citaServicio" required>
                    <option value="">Selecciona servicio...</option>
                    <option value="cambio-aceite">Cambio de Aceite</option>
                    <option value="revision">Revisión General</option>
                    <option value="frenos">Cambio de Frenos</option>
                </select>
            </div>
            <div class="grid-2">
                <div class="form-group">
                    <label>Fecha</label>
                    <input type="date" id="citaFecha" required>
                </div>
                <div class="form-group">
                    <label>Hora</label>
                    <input type="time" id="citaHora" required>
                </div>
            </div>
            <div class="actions">
                <button class="danger" onclick="cerrarModal('modalCita')">Cancelar</button>
                <button class="success" onclick="guardarCita()">Guardar</button>
            </div>
        </div>
    </div>

    <div id="modalOrden" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Nueva Orden</h2>
            </div>
            <div class="form-group">
                <label>Cliente</label>
                <select id="ordenCliente" required>
                    <option value="">Selecciona cliente...</option>
                </select>
            </div>
            <div class="form-group">
                <label>Vehículo</label>
                <select id="ordenVehiculo" required>
                    <option value="">Selecciona vehículo...</option>
                </select>
            </div>
            <div class="form-group">
                <label>Descripción</label>
                <textarea id="ordenDescripcion" rows="3"></textarea>
            </div>
            <div class="grid-2">
                <div class="form-group">
                    <label>Presupuesto (€)</label>
                    <input type="number" id="ordenPresupuesto" step="0.01" required>
                </div>
                <div class="form-group">
                    <label>Mecánico Asignado</label>
                    <select id="ordenMecanico" required>
                        <option value="">Selecciona mecánico...</option>
                    </select>
                </div>
            </div>
            <div class="actions">
                <button class="danger" onclick="cerrarModal('modalOrden')">Cancelar</button>
                <button class="success" onclick="guardarOrden()">Crear Orden</button>
            </div>
        </div>
    </div>

    <div id="modalCliente" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Nuevo Cliente</h2>
            </div>
            <div class="form-group">
                <label>Nombre</label>
                <input type="text" id="clienteNombre" required>
            </div>
            <div class="grid-2">
                <div class="form-group">
                    <label>Teléfono</label>
                    <input type="tel" id="clienteTelefono" required>
                </div>
                <div class="form-group">
                    <label>Email</label>
                    <input type="email" id="clienteEmail">
                </div>
            </div>
            <div class="form-group">
                <label>Vehículo</label>
                <input type="text" id="clienteVehiculo" placeholder="Marca Modelo">
            </div>
            <div class="actions">
                <button class="danger" onclick="cerrarModal('modalCliente')">Cancelar</button>
                <button class="success" onclick="guardarCliente()">Guardar</button>
            </div>
        </div>
    </div>

    <div id="modalRepuesto" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Nuevo Repuesto</h2>
            </div>
            <div class="form-group">
                <label>Código</label>
                <input type="text" id="repuestoCodigo" placeholder="REP-001" required>
            </div>
            <div class="form-group">
                <label>Nombre</label>
                <input type="text" id="repuestoNombre" required>
            </div>
            <div class="grid-2">
                <div class="form-group">
                    <label>Stock Actual</label>
                    <input type="number" id="repuestoStock" min="0" required>
                </div>
                <div class="form-group">
                    <label>Stock Mínimo</label>
                    <input type="number" id="repuestoMinimo" min="0" required>
                </div>
            </div>
            <div class="form-group">
                <label>Precio Unitario (€)</label>
                <input type="number" id="repuestoPrecio" step="0.01" required>
            </div>
            <div class="actions">
                <button class="danger" onclick="cerrarModal('modalRepuesto')">Cancelar</button>
                <button class="success" onclick="guardarRepuesto()">Guardar</button>
            </div>
        </div>
    </div>

    <div id="modalEmpleado" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Nuevo Empleado</h2>
            </div>
            <div class="form-group">
                <label>Nombre</label>
                <input type="text" id="empleadoNombre" required>
            </div>
            <div class="grid-2">
                <div class="form-group">
                    <label>Teléfono</label>
                    <input type="tel" id="empleadoTelefono" required>
                </div>
                <div class="form-group">
                    <label>Email</label>
                    <input type="email" id="empleadoEmail">
                </div>
            </div>
            <div class="grid-2">
                <div class="form-group">
                    <label>Especialidad</label>
                    <select id="empleadoEspecialidad" required>
                        <option value="">Selecciona...</option>
                        <option value="mecanico">Mecánico General</option>
                        <option value="electricidad">Electricidad</option>
                        <option value="neumaticos">Neumáticos</option>
                    </select>
                </div>
                <div class="form-group">
                    <label>Rol</label>
                    <select id="empleadoRol" required>
                        <option value="">Selecciona...</option>
                        <option value="tecnico">Técnico</option>
                        <option value="jefe">Jefe de Taller</option>
                        <option value="admin">Administrador</option>
                    </select>
                </div>
            </div>
            <div class="actions">
                <button class="danger" onclick="cerrarModal('modalEmpleado')">Cancelar</button>
                <button class="success" onclick="guardarEmpleado()">Guardar</button>
            </div>
        </div>
    </div>

    <script>
        let datos = {
            citas: [
                { id: 1, cliente: 1, vehiculo: 1, servicio: 'cambio-aceite', fecha: new Date().toISOString().split('T')[0], hora: '09:00', estado: 'confirmada', notas: '' },
            ],
            ordenes: [
                { id: 1001, cliente: 1, vehiculo: 1, descripcion: 'Revisión general', presupuesto: 150, estado: 'en-progreso', fecha: new Date().toISOString().split('T')[0], mecanico: 1 },
            ],
            clientes: [
                { id: 1, nombre: 'Carlos Martínez', telefono: '612345678', email: 'carlos@email.com', vehiculos: [1], ultimaVisita: new Date().toISOString().split('T')[0] },
            ],
            vehiculos: [
                { id: 1, clienteId: 1, marca: 'Toyota', modelo: 'Corolla', year: 2015, matricula: '1234ABC' },
            ],
            repuestos: [
                { id: 1, codigo: 'REP-001', nombre: 'Filtro Aceite', stock: 8, minimo: 10, precio: 15, proveedor: 'Auto Parts' },
                { id: 2, codigo: 'REP-002', nombre: 'Pastillas Freno', stock: 12, minimo: 10, precio: 45, proveedor: 'Brembo' },
            ],
            empleados: [
                { id: 1, nombre: 'Juan Pérez', telefono: '612345679', email: 'juan@email.com', especialidad: 'mecanico', rol: 'tecnico', trabajosHoy: 3 },
            ],
        };

        let proximoClienteId = 2;
        let proximoCitaId = 2;
        let proximaOrdenId = 1002;
        let proximoRepuestoId = 3;
        let proximoEmpleadoId = 2;

        function cambiarSeccion(seccion) {
            document.querySelectorAll('.section').forEach(s => s.classList.remove('active'));
            document.querySelectorAll('.nav-item').forEach(b => b.classList.remove('active'));
            document.getElementById(seccion).classList.add('active');
            document.querySelector(`[onclick="cambiarSeccion('${seccion}')"]`).classList.add('active');
            if (seccion === 'dashboard') actualizarDashboard();
        }

        function actualizarDashboard() {
            const hoy = new Date().toISOString().split('T')[0];
            const citasHoy = datos.citas.filter(c => c.fecha === hoy);
            const ordenesActivas = datos.ordenes.filter(o => o.estado === 'en-progreso').length;
            const repuestosCriticos = datos.repuestos.filter(r => r.stock <= r.minimo).length;
            
            document.getElementById('citasHoy').textContent = citasHoy.length;
            document.getElementById('ordenesActivas').textContent = ordenesActivas;
            document.getElementById('repuestosCriticos').textContent = repuestosCriticos;
            
            const ingresos = datos.ordenes.filter(o => o.estado === 'completada' && o.fecha === hoy).reduce((sum, o) => sum + o.presupuesto, 0);
            document.getElementById('ingresosHoy').textContent = ingresos + '€';

            actualizarTablaCitasHoy();
            actualizarTablaOrdenesProgreso();
            actualizarRepuestosAlerta();
        }

        function actualizarTablaCitasHoy() {
            const hoy = new Date().toISOString().split('T')[0];
            const citasHoy = datos.citas.filter(c => c.fecha === hoy);
            const tabla = document.getElementById('citasHoyTabla');
            
            if (citasHoy.length === 0) {
                tabla.innerHTML = '<tr><td colspan="4" style="text-align: center;">No hay citas</td></tr>';
            } else {
                tabla.innerHTML = citasHoy.map(c => {
                    const cliente = datos.clientes.find(cl => cl.id === c.cliente);
                    const vehiculo = datos.vehiculos.find(v => v.id === c.vehiculo);
                    return `<tr>
                        <td>${c.hora}</td>
                        <td>${cliente?.nombre}</td>
                        <td>${vehiculo?.marca} ${vehiculo?.modelo}</td>
                        <td><span class="badge success">${c.estado}</span></td>
                    </tr>`;
                }).join('');
            }
        }

        function actualizarTablaOrdenesProgreso() {
            const ordenesActivas = datos.ordenes.filter(o => o.estado === 'en-progreso');
            const tabla = document.getElementById('ordenesProgresoTabla');
            
            if (ordenesActivas.length === 0) {
                tabla.innerHTML = '<tr><td colspan="4" style="text-align: center;">No hay órdenes</td></tr>';
            } else {
                tabla.innerHTML = ordenesActivas.map(o => {
                    const cliente = datos.clientes.find(cl => cl.id === o.cliente);
                    const vehiculo = datos.vehiculos.find(v => v.id === o.vehiculo);
                    return `<tr>
                        <td>#${o.id}</td>
                        <td>${vehiculo?.marca} ${vehiculo?.modelo}</td>
                        <td>${o.descripcion}</td>
                        <td><span class="badge warning">En Progreso</span></td>
                    </tr>`;
                }).join('');
            }
        }

        function actualizarRepuestosAlerta() {
            const criticos = datos.repuestos.filter(r => r.stock <= r.minimo);
            const tabla = document.getElementById('repuestosAlertaTabla');
            
            if (criticos.length === 0) {
                tabla.innerHTML = '<tr><td colspan="5" style="text-align: center;">Todo stock ok</td></tr>';
            } else {
                tabla.innerHTML = criticos.map(r => `<tr>
                    <td>${r.nombre}</td>
                    <td>${r.stock}</td>
                    <td>${r.minimo}</td>
                    <td>${r.precio}€</td>
                    <td><span class="badge pending">Crítico</span></td>
                </tr>`).join('');
            }
        }

        function abrirModalCita() {
            document.getElementById('citaCliente').innerHTML = '<option value="">Selecciona cliente...</option>' +
                datos.clientes.map(c => `<option value="${c.id}">${c.nombre}</option>`).join('');
            document.getElementById('citaVehiculo').innerHTML = '<option value="">Selecciona vehículo...</option>';
            document.getElementById('modalCita').classList.add('active');
        }

        function guardarCita() {
            const cliente = parseInt(document.getElementById('citaCliente').value);
            const vehiculo = parseInt(document.getElementById('citaVehiculo').value);
            const servicio = document.getElementById('citaServicio').value;
            const fecha = document.getElementById('citaFecha').value;
            const hora = document.getElementById('citaHora').value;

            if (!cliente || !vehiculo || !servicio || !fecha || !hora) {
                alert('Completa todos los campos');
                return;
            }

            datos.citas.push({
                id: proximoCitaId++,
                cliente, vehiculo, servicio, fecha, hora,
                estado: 'confirmada'
            });

            cerrarModal('modalCita');
            actualizarTablaCitas();
            alert('Cita guardada');
        }

        function actualizarTablaCitas() {
            const filtro = document.getElementById('filtroCitaFecha')?.value || '';
            const lista = filtro ? datos.citas.filter(c => c.fecha === filtro) : datos.citas;
            const tabla = document.getElementById('tablaCitas');

            if (lista.length === 0) {
                tabla.innerHTML = '<tr><td colspan="7" style="text-align: center;">No hay citas</td></tr>';
            } else {
                tabla.innerHTML = lista.map(c => {
                    const cliente = datos.clientes.find(cl => cl.id === c.cliente);
                    const vehiculo = datos.vehiculos.find(v => v.id === c.vehiculo);
                    return `<tr>
                        <td>${c.fecha}</td>
                        <td>${c.hora}</td>
                        <td>${cliente?.nombre}</td>
                        <td>${vehiculo?.marca} ${vehiculo?.modelo}</td>
                        <td>${c.servicio}</td>
                        <td><span class="badge success">${c.estado}</span></td>
                        <td><button class="secondary" style="padding: 5px 10px; font-size: 12px; border: 1px solid #000000;" onclick="editarCita(${c.id})">Editar</button></td>
                    </tr>`;
                }).join('');
            }
        }

        function abrirModalOrden() {
            document.getElementById('ordenCliente').innerHTML = '<option value="">Selecciona cliente...</option>' +
                datos.clientes.map(c => `<option value="${c.id}">${c.nombre}</option>`).join('');
            document.getElementById('ordenMecanico').innerHTML = '<option value="">Selecciona mecánico...</option>' +
                datos.empleados.map(e => `<option value="${e.id}">${e.nombre}</option>`).join('');
            document.getElementById('modalOrden').classList.add('active');
        }

        function guardarOrden() {
            const cliente = parseInt(document.getElementById('ordenCliente').value);
            const vehiculo = parseInt(document.getElementById('ordenVehiculo').value);
            const descripcion = document.getElementById('ordenDescripcion').value;
            const presupuesto = parseFloat(document.getElementById('ordenPresupuesto').value);
            const mecanico = parseInt(document.getElementById('ordenMecanico').value);

            if (!cliente || !vehiculo || !descripcion || !presupuesto || !mecanico) {
                alert('Completa todos los campos');
                return;
            }

            datos.ordenes.push({
                id: proximaOrdenId++,
                cliente, vehiculo, descripcion, presupuesto,
                estado: 'en-progreso',
                fecha: new Date().toISOString().split('T')[0],
                mecanico
            });

            cerrarModal('modalOrden');
            actualizarTablaOrdenes();
            alert('Orden creada');
        }

        function actualizarTablaOrdenes() {
            const tabla = document.getElementById('tablaOrdenes');
            if (datos.ordenes.length === 0) {
                tabla.innerHTML = '<tr><td colspan="8" style="text-align: center;">No hay órdenes</td></tr>';
            } else {
                tabla.innerHTML = datos.ordenes.map(o => {
                    const cliente = datos.clientes.find(cl => cl.id === o.cliente);
                    const vehiculo = datos.vehiculos.find(v => v.id === o.vehiculo);
                    const badge = o.estado === 'completada' ? 'success' : 'warning';
                    return `<tr>
                        <td>#${o.id}</td>
                        <td>${o.fecha}</td>
                        <td>${cliente?.nombre}</td>
                        <td>${vehiculo?.marca} ${vehiculo?.modelo}</td>
                        <td>${o.descripcion}</td>
                        <td>${o.presupuesto}€</td>
                        <td><span class="badge ${badge}">${o.estado}</span></td>
                        <td><button class="success" style="padding: 5px 10px; font-size: 12px;" onclick="marcarCompleta(${o.id})">Completar</button></td>
                    </tr>`;
                }).join('');
            }
        }

        function marcarCompleta(ordenId) {
            const orden = datos.ordenes.find(o => o.id === ordenId);
            if (orden) {
                orden.estado = 'completada';
                actualizarTablaOrdenes();
                alert('Orden completada');
            }
        }

        function abrirModalCliente() {
            document.getElementById('modalCliente').classList.add('active');
        }

        function guardarCliente() {
            const nombre = document.getElementById('clienteNombre').value;
            const telefono = document.getElementById('clienteTelefono').value;
            const email = document.getElementById('clienteEmail').value;
            const vehiculo = document.getElementById('clienteVehiculo').value;

            if (!nombre || !telefono) {
                alert('Nombre y teléfono son obligatorios');
                return;
            }

            const clienteId = proximoClienteId++;
            datos.clientes.push({
                id: clienteId,
                nombre, telefono, email,
                vehiculos: [],
                ultimaVisita: new Date().toISOString().split('T')[0]
            });

            if (vehiculo) {
                const vehiculoId = Math.max(...datos.vehiculos.map(v => v.id), 0) + 1;
                datos.vehiculos.push({
                    id: vehiculoId,
                    clienteId,
                    marca: vehiculo.split(' ')[0],
                    modelo: vehiculo.split(' ').slice(1).join(' '),
                    year: 2020,
                    matricula: ''
                });
                datos.clientes[datos.clientes.length - 1].vehiculos.push(vehiculoId);
            }

            cerrarModal('modalCliente');
            actualizarTablaClientes();
            alert('Cliente guardado');
        }

        function actualizarTablaClientes() {
            const busqueda = document.getElementById('buscarCliente')?.value.toLowerCase() || '';
            const lista = datos.clientes.filter(c => c.nombre.toLowerCase().includes(busqueda) || c.telefono.includes(busqueda));
            const tabla = document.getElementById('tablaClientes');

            if (lista.length === 0) {
                tabla.innerHTML = '<tr><td colspan="7" style="text-align: center;">No hay clientes</td></tr>';
            } else {
                tabla.innerHTML = lista.map(c => {
                    const ordenes = datos.ordenes.filter(o => o.cliente === c.id).length;
                    return `<tr>
                        <td>${c.nombre}</td>
                        <td>${c.telefono}</td>
                        <td>${c.email || '-'}</td>
                        <td>${c.vehiculos.length}</td>
                        <td>${ordenes}</td>
                        <td>${c.ultimaVisita}</td>
                        <td><button class="secondary" style="padding: 5px 10px; font-size: 12px;" onclick="verCliente(${c.id})">Ver</button></td>
                    </tr>`;
                }).join('');
            }
        }

        function abrirModalRepuesto() {
            document.getElementById('modalRepuesto').classList.add('active');
        }

        function guardarRepuesto() {
            const codigo = document.getElementById('repuestoCodigo').value;
            const nombre = document.getElementById('repuestoNombre').value;
            const stock = parseInt(document.getElementById('repuestoStock').value);
            const minimo = parseInt(document.getElementById('repuestoMinimo').value);
            const precio = parseFloat(document.getElementById('repuestoPrecio').value);

            if (!codigo || !nombre || stock === '' || minimo === '' || !precio) {
                alert('Completa todos los campos');
                return;
            }

            datos.repuestos.push({
                id: proximoRepuestoId++,
                codigo, nombre, stock, minimo, precio, proveedor: ''
            });

            cerrarModal('modalRepuesto');
            actualizarTablaRepuestos();
            alert('Repuesto registrado');
        }

        function actualizarTablaRepuestos() {
            const tabla = document.getElementById('tablaRepuestos');
            if (datos.repuestos.length === 0) {
                tabla.innerHTML = '<tr><td colspan="8" style="text-align: center;">No hay repuestos</td></tr>';
            } else {
                tabla.innerHTML = datos.repuestos.map(r => {
                    const estado = r.stock <= r.minimo ? 'pending' : 'success';
                    const estadoText = r.stock <= r.minimo ? 'Crítico' : 'OK';
                    const valorTotal = (r.stock * r.precio).toFixed(2);
                    return `<tr>
                        <td>${r.codigo}</td>
                        <td>${r.nombre}</td>
                        <td>${r.stock}</td>
                        <td>${r.minimo}</td>
                        <td>${r.precio}€</td>
                        <td>${valorTotal}€</td>
                        <td><span class="badge ${estado}">${estadoText}</span></td>
                        <td><button class="secondary" style="padding: 5px 10px; font-size: 12px;">Editar</button></td>
                    </tr>`;
                }).join('');
            }
        }

        function abrirModalEmpleado() {
            document.getElementById('modalEmpleado').classList.add('active');
        }

        function guardarEmpleado() {
            const nombre = document.getElementById('empleadoNombre').value;
            const telefono = document.getElementById('empleadoTelefono').value;
            const email = document.getElementById('empleadoEmail').value;
            const especialidad = document.getElementById('empleadoEspecialidad').value;
            const rol = document.getElementById('empleadoRol').value;

            if (!nombre || !telefono || !especialidad || !rol) {
                alert('Completa todos los campos');
                return;
            }

            datos.empleados.push({
                id: proximoEmpleadoId++,
                nombre, telefono, email, especialidad, rol,
                trabajosHoy: 0
            });

            cerrarModal('modalEmpleado');
            actualizarTablaEmpleados();
            alert('Empleado registrado');
        }

        function actualizarTablaEmpleados() {
            const tabla = document.getElementById('tablaEmpleados');
            if (datos.empleados.length === 0) {
                tabla.innerHTML = '<tr><td colspan="7" style="text-align: center;">No hay empleados</td></tr>';
            } else {
                tabla.innerHTML = datos.empleados.map(e => {
                    const desempenoColor = e.trabajosHoy < 2 ? 'warning' : 'success';
                    return `<tr>
                        <td>${e.nombre}</td>
                        <td>${e.telefono}</td>
                        <td>${e.especialidad}</td>
                        <td>${e.rol}</td>
                        <td>${e.trabajosHoy}</td>
                        <td><span class="badge ${desempenoColor}">Normal</span></td>
                        <td><button class="secondary" style="padding: 5px 10px; font-size: 12px;">Ver</button></td>
                    </tr>`;
                }).join('');
            }
        }

        let conversacionEstado = 0;

        function simularMensajeWhatsapp() {
            const mensaje = document.getElementById('mensajeSimulado').value;
            if (!mensaje.trim()) return;

            const chat = document.getElementById('whatsappChat');
            
            const msgIncoming = document.createElement('div');
            msgIncoming.className = 'message incoming';
            msgIncoming.innerHTML = `<div>${mensaje}</div><div class="message-time">${new Date().toLocaleTimeString('es-ES', {hour: '2-digit', minute:'2-digit'})}</div>`;
            chat.appendChild(msgIncoming);

            setTimeout(() => {
                let respuesta = '';
                
                if (conversacionEstado === 0) {
                    respuesta = '¡Hola! Bienvenido a Talleres Andrés & Co. 👋 ¿Qué servicio necesitas?';
                    conversacionEstado = 1;
                } else if (conversacionEstado === 1) {
                    respuesta = 'Perfecto. ¿Para qué marca y modelo de vehículo?';
                    conversacionEstado = 2;
                } else if (conversacionEstado === 2) {
                    respuesta = 'Excelente. ¿Qué día y hora te vendría bien? Te ofrezco mañana a las 10:00 o 14:00';
                    conversacionEstado = 3;
                } else if (conversacionEstado === 3) {
                    respuesta = '✅ ¡Confirmado! Tu cita está reservada. Recibirás recordatorio 24h antes.';
                    conversacionEstado = 0;
                }
                
                const msgOutgoing = document.createElement('div');
                msgOutgoing.className = 'message outgoing';
                msgOutgoing.innerHTML = `<div>${respuesta}</div><div class="message-time">${new Date().toLocaleTimeString('es-ES', {hour: '2-digit', minute:'2-digit'})}</div>`;
                chat.appendChild(msgOutgoing);
                chat.scrollTop = chat.scrollHeight;
            }, 500);

            document.getElementById('mensajeSimulado').value = '';
            chat.scrollTop = chat.scrollHeight;
        }

        function generarInforme() {
            const desde = document.getElementById('informeDesdeFecha').value;
            const hasta = document.getElementById('informeHastaFecha').value;

            if (!desde || !hasta) {
                alert('Selecciona ambas fechas');
                return;
            }

            const ordenesInforme = datos.ordenes.filter(o => o.fecha >= desde && o.fecha <= hasta);
            const totalIngresos = ordenesInforme.reduce((sum, o) => sum + o.presupuesto, 0);

            const html = `
                <h2 style="margin-bottom: 20px;">Informe: ${desde} a ${hasta}</h2>
                <div class="grid-4">
                    <div class="stat-card">
                        <h3>Órdenes Completadas</h3>
                        <div class="number">${ordenesInforme.filter(o => o.estado === 'completada').length}</div>
                    </div>
                    <div class="stat-card">
                        <h3>Ingresos Totales</h3>
                        <div class="number">${totalIngresos}€</div>
                    </div>
                    <div class="stat-card">
                        <h3>Órdenes Activas</h3>
                        <div class="number">${ordenesInforme.filter(o => o.estado === 'en-progreso').length}</div>
                    </div>
                    <div class="stat-card">
                        <h3>Promedio por Orden</h3>
                        <div class="number">${ordenesInforme.length > 0 ? (totalIngresos / ordenesInforme.length).toFixed(0) : 0}€</div>
                    </div>
                </div>
            `;

            document.getElementById('contenidoInforme').innerHTML = html;
        }

        function cerrarModal(id) {
            document.getElementById(id).classList.remove('active');
        }

        // Inicializar
        actualizarTablaCitas();
        actualizarTablaOrdenes();
        actualizarTablaClientes();
        actualizarTablaRepuestos();
        actualizarTablaEmpleados();
        actualizarDashboard();

        document.querySelectorAll('.modal').forEach(modal => {
            modal.addEventListener('click', function(e) {
                if (e.target === this) cerrarModal(this.id);
            });
        });

        document.getElementById('citaCliente').addEventListener('change', function() {
            const clienteId = parseInt(this.value);
            const cliente = datos.clientes.find(c => c.id === clienteId);
            const vehiculoSelect = document.getElementById('citaVehiculo');
            if (cliente) {
                vehiculoSelect.innerHTML = cliente.vehiculos.map(vId => {
                    const v = datos.vehiculos.find(veh => veh.id === vId);
                    return `<option value="${vId}">${v.marca} ${v.modelo}</option>`;
                }).join('');
            }
        });

        document.getElementById('ordenCliente').addEventListener('change', function() {
            const clienteId = parseInt(this.value);
            const cliente = datos.clientes.find(c => c.id === clienteId);
            const vehiculoSelect = document.getElementById('ordenVehiculo');
            if (cliente) {
                vehiculoSelect.innerHTML = cliente.vehiculos.map(vId => {
                    const v = datos.vehiculos.find(veh => veh.id === vId);
                    return `<option value="${vId}">${v.marca} ${v.modelo}</option>`;
                }).join('');
            }
        });

        function editarCita(citaId) {
            const cita = datos.citas.find(c => c.id === citaId);
            if (cita) {
                document.getElementById('citaCliente').value = cita.cliente;
                document.getElementById('citaVehiculo').value = cita.vehiculo;
                document.getElementById('citaServicio').value = cita.servicio;
                document.getElementById('citaFecha').value = cita.fecha;
                document.getElementById('citaHora').value = cita.hora;
                document.getElementById('modalCita').classList.add('active');
            }
        }

        function verCliente(clienteId) {
            const cliente = datos.clientes.find(c => c.id === clienteId);
            if (cliente) {
                const vehiculos = cliente.vehiculos.map(vid => {
                    const v = datos.vehiculos.find(veh => veh.id === vid);
                    return `${v.marca} ${v.modelo}`;
                }).join(', ');
                const ordenes = datos.ordenes.filter(o => o.cliente === cliente.id).length;
                alert(`Cliente: ${cliente.nombre}\nTeléfono: ${cliente.telefono}\nEmail: ${cliente.email || 'N/A'}\nVehículos: ${vehiculos || 'Sin vehículos'}\nÓrdenes: ${ordenes}\nÚltima visita: ${cliente.ultimaVisita}`);
            }
        }

        function verEmpleado(empleadoId) {
            const empleado = datos.empleados.find(e => e.id === empleadoId);
            if (empleado) {
                alert(`Empleado: ${empleado.nombre}\nTeléfono: ${empleado.telefono}\nEmail: ${empleado.email || 'N/A'}\nEspecialidad: ${empleado.especialidad}\nRol: ${empleado.rol}\nTrabajos hoy: ${empleado.trabajosHoy}`);
            }
        }

        function autenticar(event) {
            event.preventDefault();
            
            const usuario = document.getElementById('loginUser').value;
            const contraseña = document.getElementById('loginPassword').value;
            
            // Credenciales de demostración
            const usuarioValido = 'ejemplosautomatizaciones@sms.com';
            const contraseñaValida = 'DemostraciónDemo123';
            
            if (usuario === usuarioValido && contraseña === contraseñaValida) {
                // Ocultar pantalla de login y mostrar aplicación
                document.getElementById('loginScreen').classList.remove('active');
                document.querySelector('header').style.display = 'block';
                document.querySelector('.container').style.display = 'block';
            } else {
                alert('Usuario o contraseña incorrectos');
                document.getElementById('loginPassword').value = '';
            }
        }

        // Inicialmente ocultar header y container
        window.addEventListener('load', function() {
            document.querySelector('header').style.display = 'none';
            document.querySelector('.container').style.display = 'none';
        });
    </script>
</body>
</html>
